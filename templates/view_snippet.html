{% include "navbar.html" %}


<div class="container mt-2">
    <!-- Assuming snippet is a dictionary or object with a 'code' and 'language' property -->
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title">{{ snippet.title }}</h5>
         
                    <div class="btn-group me-2">
                        <button class="btn btn-light border border-dark" id="copy-code-btn">Copy Code</button>
                        <button class="btn btn-light border border-dark" id="copy-url-btn">Copy URL</button>
                    </div>

                </div>
                <div class="card-body">
                    <!-- Ensure that snippet.code is properly formatted within <pre><code> tags -->
                    <pre class="code-container"><code class="{{ snippet.language }}">{{ snippet.code | escape }}</code></pre>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS and dependencies (jQuery and Popper.js) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<!-- Highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
<script>
    // Wait for document ready event to ensure DOM is fully loaded
    document.addEventListener("DOMContentLoaded", function() {
        // Initialize Highlight.js for syntax highlighting
        hljs.highlightAll();

        document.getElementById('copy-code-btn').addEventListener('click', function() {
            var codeElement = document.querySelector('.code-container code');
            var range = document.createRange();
            range.selectNode(codeElement);
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
            
        });

        // Copy URL button click event
        document.getElementById('copy-url-btn').addEventListener('click', function() {
            var url = window.location.href;
            navigator.clipboard.writeText(url)
            .then(() => {
                
            })
            .catch(err => {
                console.error('Failed to copy URL: ', err);
            });
        });
    });
</script>

</body>
</html>

